/* 오늘운동 PWA styles (mobile-first, top-tab screens) */
:root{
  --bg:#0b0c10;
  --card:#14161c;
  --fg:#e8eef2;
  --muted:#a8b3bd;
  --primary:#6ee7ff;
  --accent:#9b87f5;
  --danger:#ff6b6b;
  --safeTop: env(safe-area-inset-top, 0px);
  --safeBottom: env(safe-area-inset-bottom, 0px);
  --tap:56px;
}
*{box-sizing:border-box}
html,body{height:100%;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Helvetica,Arial,sans-serif;margin:0}
h1,h2,h3{margin:0 0 .5rem 0}
h3{font-size:1.1rem}
.badge{background:rgba(255,255,255,.08);padding:.2rem .5rem;border-radius:999px;font-size:.85rem}
.muted{color:var(--muted)}
.hidden{display:none}
.ghost{background:transparent;border:1px solid rgba(255,255,255,.2);padding:.6rem .9rem;border-radius:.9rem;color:var(--fg)}
.ghost.small{padding:.35rem .6rem;font-size:.9rem;border-radius:.6rem}
.primary{background:linear-gradient(90deg,rgba(110,231,255,.18),rgba(155,135,245,.18));border:1px solid rgba(255,255,255,.12);padding:.9rem 1rem;border-radius:1rem;color:var(--fg);font-weight:700;box-shadow:none}
.primary.full{display:block;width:100%;text-align:center}
button{cursor:pointer}
button:focus-visible{outline:2px solid var(--primary);outline-offset:2px}
.large-tap{min-height:var(--tap);min-width:var(--tap)}

.visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

#app-header{
  position:sticky;top:0;z-index:10;padding:calc(var(--safeTop) + .6rem) .8rem .4rem;background:rgba(20,22,28,.85);backdrop-filter:blur(10px);
  border-bottom:1px solid rgba(255,255,255,.08);
}
.title-row{display:flex;align-items:baseline;gap:.8rem}
.title-row h1{font-size:1.3rem;letter-spacing:.02em}
#today-label{color:var(--muted);font-size:.9rem}

.tabs{display:grid;grid-template-columns:repeat(4,1fr);gap:.4rem;margin-top:.6rem}
.tabs .tab{padding:.7rem 0;border-radius:1rem;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.03);color:var(--fg)}
.tabs .tab[aria-selected="true"]{border-color:transparent;background:linear-gradient(90deg,rgba(110,231,255,.25),rgba(155,135,245,.25))}

#content{padding:1rem .8rem calc(1.2rem + var(--safeBottom)) .8rem}
.view{display:none}
.view[aria-hidden="false"]{display:block}
.cards{display:grid;grid-template-columns:1fr;gap:.8rem}
@media(min-width:560px){.cards{grid-template-columns:1fr 1fr}}

.card{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:1rem;padding:.95rem}
.row{display:flex;gap:.6rem;align-items:center}
.row.space{justify-content:space-between}
.list{display:flex;flex-direction:column;gap:.5rem}
.exercise-card .sets{display:flex;flex-wrap:wrap;gap:.45rem;margin-top:.6rem}
.exercise-card .sets button{border-radius:.7rem;padding:.55rem .7rem;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.03)}
.exercise-card .sets button.done{background:linear-gradient(90deg,rgba(110,231,255,.25),rgba(155,135,245,.25));border-color:transparent}

.summary{display:flex;justify-content:space-between;align-items:center;margin-top:1rem;padding:.9rem;border:1px dashed rgba(255,255,255,.2);border-radius:.9rem}

.calendar-header{display:flex;justify-content:space-between;align-items:center;margin:.5rem 0}
#month-title{font-weight:700;letter-spacing:.02em}
.calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:.4rem}
.calendar .cell{aspect-ratio:1;border:1px solid rgba(255,255,255,.08);border-radius:.6rem;display:flex;justify-content:center;align-items:center;position:relative;color:var(--muted)}
.calendar .cell .d{position:absolute;top:.3rem;right:.35rem;font-size:.75rem}
.calendar .cell.done{background:rgba(0,255,153,.06);color:#c9ffef;border-color:rgba(0,255,153,.25)}
.calendar .cell.partial{background:rgba(255,230,0,.06);color:#fffadc;border-color:rgba(255,230,0,.2)}
.calendar .cell.rest{opacity:.45}
.day-detail{margin-top:.8rem;color:var(--muted)}

.rank-card{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:1rem;padding:1rem;margin-bottom:1rem}
.rank-row{display:flex;gap:.6rem;align-items:center}
.rank-row .points{margin-left:auto;color:var(--muted)}
.progress{height:.75rem;background:rgba(255,255,255,.08);border-radius:999px;margin:.6rem 0}
.progress-bar{height:100%;border-radius:999px;background:linear-gradient(90deg,var(--primary),var(--accent))}

.settings-grid{display:grid;gap:.8rem}
@media(min-width:720px){.settings-grid{grid-template-columns:1fr 1fr}}
.days{display:flex;gap:.4rem;flex-wrap:wrap}
.days.inline label{margin-right:.4rem}
#safe-footer{height:var(--safeBottom)}

.primary:hover{background:linear-gradient(90deg,rgba(110,231,255,.24),rgba(155,135,245,.24))}

/* Form controls tidy */
input[type=text], input[type=number], input[type=date], select {
  width:100%; appearance:none;
  background:rgba(255,255,255,.04); color:var(--fg);
  border:1px solid rgba(255,255,255,.14);
  border-radius:.8rem; padding:.7rem .8rem;
}
input[type=file]{color:var(--muted)}
.row{display:grid;grid-template-columns:96px 1fr;gap:.6rem;align-items:center}
#add-exercise .row:first-of-type{grid-template-columns:96px 1fr}
#add-exercise input[name=name]{width:100%}
#add-exercise .days.inline{display:flex;gap:.4rem;flex-wrap:wrap}
#add-exercise .days.inline label{margin:0}

/* Smaller delete buttons in 운동 목록 */
#exercise-list .ghost {padding:.4rem .6rem;font-size:.85rem;border-radius:.6rem}
#exercise-list .row.space {align-items:flex-start}

/* Quest list card styling */
.quests {background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:1rem;padding:.9rem;margin:1rem 0;list-style:disc;padding-left:1.5rem}
.quests li {margin:.2rem 0}

/* Settings > Exercise list row layout */
.list .row.space{display:grid;grid-template-columns:1fr max-content;align-items:center;gap:.6rem}
button.ghost.delete{padding:.5rem .8rem;border-radius:.7rem;min-width:84px}
/* allow meta text to wrap without shrinking due to button */
.list .row.space > div{min-width:0}

/* Quests card like rank card */
.quests-card ul{list-style:none;padding:0;margin:.4rem 0 0 0;display:flex;flex-direction:column;gap:.5rem}
.quests-card .quest-list li{display:flex;justify-content:space-between;align-items:center;background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);padding:.7rem .8rem;border-radius:.8rem}
.quests-card .q-name{font-weight:600}
.quests-card .q-reward{font-weight:700}

.ghost.tiny{padding:.28rem .55rem;font-size:.85rem;border-radius:.6rem}
.quest-list .status{margin-left:auto}
.quest-list .done-badge{background:rgba(0,255,153,.15); border:1px solid rgba(0,255,153,.35); color:#c9ffef; padding:.2rem .5rem; border-radius:.6rem; font-weight:700}

/* Exercise list meta lines */
.list .line1{font-size:1rem; line-height:1.2}
.list .line2{margin-top:.2rem; font-size:.92rem}
