<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <title>μ¤λμ΄λ™</title>
  <link rel="stylesheet" href="style.css">
  <script>document.documentElement.classList.toggle('standalone', window.navigator.standalone);</script>
</head>
<body>
  <header>
    <h1 id="title">μ¤λμ΄λ™</h1>
    <div id="date"></div>
    <button id="installBtn" hidden>μ•± μ„¤μΉ</button>
  </header>

  <main id="view-home" class="view active">
    <section id="onboard" class="card hidden">
      <h2>μ²μ μ„¤μ •</h2>
      <p>μ¤λμ΄ <b>λ‡ μΌμ°¨</b>μΈμ§€ μ…λ ¥ν•κ±°λ‚, λ‚ μ§λ¥Ό μ§μ ‘ μ„ νƒν•μ„Έμ”.</p>
      <div class="onboard-grid">
        <label>μ¤λμ΄ <input type="number" id="onDay" min="1" value="1"> μΌμ°¨</label>
        <span class="muted">λλ”</span>
        <label>μ‹μ‘ λ‚ μ§ <input type="date" id="onStartDate"></label>
      </div>
      <button id="onConfirm">ν™•μΈ</button>
      <p class="hint">κΈ°λ³Έ ν¨ν„΄: 1μΌμ°¨ ν‘Έμ‹μ—… 8ν / ν”λ­ν¬ 20μ΄ / μ¤μΏΌνΈ 10ν. λ§¤μ£Ό +4ν/+15μ΄/+4ν(λ³€κ²½ κ°€λ¥).</p>
    </section>

    <section id="todayPlan" class="card">
      <div class="plan-head">
        <h2>μ¤λ μ΄λ™</h2>
        <div id="dayBadge" class="pill"></div>
      </div>
      <div id="restBanner" class="rest-banner hidden">μ¤λμ€ <b>ν΄μ‹μΌ</b>μ…λ‹λ‹¤ (μ„¤μ •μ—μ„ μ”μΌ λ³€κ²½ κ°€λ¥)</div>
      <div class="plan-list" id="planList"></div>
      <div class="hint">μ„ΈνΈλ¥Ό νƒ­ν•΄μ„ μ™„λ£ μ²΄ν¬ β€Ά κΈΈκ² λλ¬ λλλ¦¬κΈ°</div>
    </section>

    <section id="exercises" class="card">
      <div class="ex-head-row">
        <h2>μ΄λ™λ³„ μ§„ν–‰</h2>
        <button id="addExerciseBtn">μ΄λ™ μ¶”κ°€</button>
      </div>
      <div id="exerciseList"></div>
    </section>

    <section id="stats" class="card">
      <h2>μ¤λ μ”μ•½</h2>
      <div id="summary"></div>
      <button id="clearToday" class="danger">μ¤λ κΈ°λ΅ μ΄κΈ°ν™”</button>
    </section>
  </main>

  <main id="view-calendar" class="view">
    <section class="card">
      <h2>λ‹¬λ ¥</h2>
      <div id="calHeader" class="cal-head">
        <button id="calPrev">β€Ή</button>
        <div id="calMonth"></div>
        <button id="calNext">β€Ί</button>
      </div>
      <div class="calendar" id="calendar"></div>
      <div id="calDetail" class="cal-detail"></div>
    </section>
  </main>

  <main id="view-rank" class="view">
    <section class="card">
      <h2>λ­ν¬</h2>
      <div class="rank-wrap">
        <div class="rank-badge" id="rankBadge">Bronze</div>
        <div class="rank-progress"><div id="rankBar"></div></div>
        <div class="muted" id="rankInfo"></div>
      </div>
    </section>
    <section class="card">
      <h3>ν€μ¤νΈ</h3>
      <ul id="questList" class="quest-list"></ul>
    </section>
  </main>

  <main id="view-settings" class="view">
    <section class="card small">
      <h2>μ„¤μ •</h2>
      <div class="settings">
        <div class="grid2">
          <label>μ‹μ‘ λ‚ μ§ <input type="date" id="cfgStartDate"></label>
          <div>
            <div class="label">ν΄μ‹ μ”μΌ</div>
            <div id="restDays" class="rest-days"></div>
          </div>
        </div>
        <div class="label">μ£Όκ°„ μ¦κ°€λ‰(κΈ°λ³Έ)</div>
        <div class="grid3" id="defaultIncs"></div>
        <div class="label">μ΄λ™λ³„ μ„¤μ •</div>
        <div id="exerciseConfigs"></div>
        <button id="saveCfg">μ €μ¥</button>
      </div>
      <ul class="help">
        <li>μ£Όμ°¨λ” μ‹μ‘μΌ κΈ°μ¤€ 7μΌ λ‹¨μ„λ΅ κ³„μ‚°ν•©λ‹λ‹¤.</li>
        <li>ν΄μ‹ μ”μΌμ—λ” μ²΄ν¬κ°€ μ κΉλ‹λ‹¤.</li>
        <li>μ”μΌλ³„ λ£¨ν‹΄μΌλ΅ κ° μ΄λ™μ μ‹¤ν–‰ μ”μΌμ„ μ§€μ •ν•  μ μμµλ‹λ‹¤.</li>
      </ul>
    </section>
  </main>

  <nav class="tabbar">
    <button data-view="home" class="active">π <span>ν™</span></button>
    <button data-view="calendar">π“…<span>λ‹¬λ ¥</span></button>
    <button data-view="rank">π†<span>λ­ν¬</span></button>
    <button data-view="settings">β™οΈ<span>μ„¤μ •</span></button>
  </nav>

  <footer>
    <small>Β© 2025 μ¤λμ΄λ™ β€” PWA</small>
  </footer>

  <template id="exerciseTpl">
    <div class="exercise">
      <div class="ex-head">
        <h3 class="ex-name"></h3>
        <div class="ex-controls">
          <button class="minus" aria-label="μ„ΈνΈ λΉΌκΈ°">β’</button>
          <span class="sets-label">μ„ΈνΈ: <b class="sets-count"></b></span>
          <button class="plus" aria-label="μ„ΈνΈ μ¶”κ°€">οΌ‹</button>
        </div>
      </div>
      <div class="reps"></div>
      <div class="sets"></div>
      <div class="timer-row hidden">
        <div class="timer">00:00</div>
        <button class="tStart">μ‹μ‘</button>
        <button class="tPause" disabled>μΌμ‹μ •μ§€</button>
        <button class="tReset" disabled>λ¦¬μ…‹</button>
      </div>
    </div>
  </template>

  <template id="exCfgTpl">
    <div class="ex-cfg">
      <div class="grid4">
        <div><b class="cfg-name"></b><br><small class="muted cfg-type"></small></div>
        <label>μ„ΈνΈ <input type="number" class="cfg-sets" min="1" max="20"></label>
        <label>κΈ°λ³Έ(ν/μ΄) <input type="number" class="cfg-base" min="1"></label>
        <label>μ£Όκ°„μ¦κ°€ <input type="number" class="cfg-inc" min="0"></label>
        <button class="cfg-del danger" title="μ‚­μ ">μ‚­μ </button>
      </div>
      <div class="dow">
        <span class="muted">μ‹¤ν–‰ μ”μΌ:</span>
        <label><input type="checkbox" class="dow-cb" data-dow="1">μ›”</label>
        <label><input type="checkbox" class="dow-cb" data-dow="2">ν™”</label>
        <label><input type="checkbox" class="dow-cb" data-dow="3">μ</label>
        <label><input type="checkbox" class="dow-cb" data-dow="4">λ©</label>
        <label><input type="checkbox" class="dow-cb" data-dow="5">κΈ</label>
        <label><input type="checkbox" class="dow-cb" data-dow="6">ν† </label>
        <label><input type="checkbox" class="dow-cb" data-dow="0">μΌ</label>
      </div>
    </div>
  </template>

  <script src="app.js"></script>
</body>
</html>
